theme(text = element_text(size = 8),
axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 15)) + #wrap label text
theme(text = element_text(size = 8),
axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 8),
axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1))
library(forcats)
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr)) %>%
autoplot()
autoplot(Africa_pvpr_data_pf)
library(forcats)
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = p)
autoplot(Africa_pvpr_data_pf)
autoplot_MAPraster(Africa_pvpr_data_pv)
library(forcats)
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = p)
?getPR
View(Africa_pvpr_data_pf)
?pr
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate'
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr), fill = mean_pr) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
View(Africa_pvpr_data_pf)
View(Africa_pvpr_data_pv)
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 25)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 30)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 8),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 30)) + #wrap label text
theme(text = element_text(size = 8),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 30)) + #wrap label text
theme(text = element_text(size = 8),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
library(tidyverse)
library(RColorBrewer)
library(malariaAtlas)
#retrieve data from Africa for both species of plasmodium (separately) from Malaria Atlas
Africa_pvpr_data_pf <- getPR(continent = "Africa", species = "pf")
Africa_pvpr_data_pv <- getPR(continent = "Africa", species = "pv")
autoplot(Africa_pvpr_data_pf)
autoplot(Africa_pvpr_data_pv)
#quickly autoplot most recent version of parasite rate data for each species in africa
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
library(tidyverse)
library(RColorBrewer)
library(malariaAtlas)
#retrieve data from Africa for both species of plasmodium (separately) from Malaria Atlas
Africa_pvpr_data_pf <- getPR(continent = "Africa", species = "pf")
autoplot(Africa_pvpr_data_pf)
autoplot(Africa_pvpr_data_pv)
#quickly autoplot most recent version of parasite rate data for each species in africa
library(tidyverse)
library(RColorBrewer)
library(malariaAtlas)
#retrieve data from Africa for both species of plasmodium (separately) from Malaria Atlas
Africa_pvpr_data_pf <- getPR(continent = "Africa", species = "pf")
Africa_pvpr_data_pv <- getPR(continent = "Africa", species = "pv")
library(tidyverse)
library(RColorBrewer)
library(malariaAtlas)
#retrieve data from Africa for both species of plasmodium (separately) from Malaria Atlas
Africa_pvpr_data_pf <- getPR(continent = "Africa", species = "pf")
Africa_pvpr_data_pv <- getPR(continent = "Africa", species = "pv")
autoplot(Africa_pvpr_data_pf)
autoplot(Africa_pvpr_data_pv)
#quickly autoplot most recent version of parasite rate data for each species in africa
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
View(Africa_pvpr_data_pf)
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start<2010)
group_by(country) %>%
summarize(mean_pr = mean(pr))
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start<2010) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start<2010) %>%
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start<2010)
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
View(PF_Africa_table)
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2010)
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2019) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2019) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
View(PV_Africa_table)
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr)) %>%
filter(pr>0)
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr)) %>%
filter(mean_pr>0)
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
library(forcats)
#pr = positive/examined
PF_Africa_table <- Africa_pvpr_data_pf %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr))
PV_Africa_table <- Africa_pvpr_data_pv %>%
drop_na(pr) %>% #have to drop na pr data
filter(year_start>2009) %>%
group_by(country) %>%
summarize(mean_pr = mean(pr)) %>%
filter(mean_pr>0)
ggplot(data = PV_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 18)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium vivax across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positvity rate')
ggplot(data = PF_Africa_table, mapping = aes(x=fct_reorder(country, mean_pr), y = mean_pr, fill = mean_pr)) +
geom_bar(stat="identity") +
scale_x_discrete(labels = function(x) str_wrap(x, width = 35)) + #wrap label text
theme(text = element_text(size = 10),
axis.text.x = element_text(angle = 90, hjust = 1)) +
labs (title = 'Positivity rate for infection with Plasmodium falciparum across Africa',
subtitle = 'data averaged from 1985-2020',
x = 'country',
y = 'mean positivity rate')
